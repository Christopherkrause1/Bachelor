\chapter{Auswertung}\label{make}
Die folgenden Unterkapitel beschreiben die Vorgehensweise für die Umsetzung des Python Programms zur
Berechnung der Annealingeffekte.
\section{Annealingeffekt für konstanten Temperaturen}
Gleichung \ref{eqn:N_eff} und \ref{eqn:damage}  werden für das Modellieren der Annealingeffekte verwendet. In
Abbildung \ref{fig:N_eff} und \ref{fig:damage} sind diese, jeweils für zwei Temperaturen dargestellt.
Für alle Plots werden materialabhängige
Parameter einer "WE-25k" aus \cite{moll} genommen.

\begin{figure}
    \includegraphics[width=0.95\textwidth]{build/annealing.PDF}
    \caption{$\Delta N_{\mathrm{eff}}$ einer WE-25k Diode nach Bestrahlung mit Fluenz $\Phi_{\mathrm{eq}} = \SI{5e15}{\per\centi\meter\squared}.$}
    \label{fig:N_eff}
\end{figure}

\begin{figure}
    \includegraphics[width=0.95\textwidth]{build/damage.PDF}
    \caption{Schadensrate einer WE-25k Diode.}
    \label{fig:damage}
\end{figure}

Beide Annealingeffekte stimmen mit dem theoretischen Verlauf aus \cite{moll} über ein, was
die Korrekte Implementierung der Funktionen \ref{eqn:N_eff} und \ref{eqn:damage}  des Programms
bestätigt.



\section{Annealingeffekt für nicht konstanten Temperaturen}{\label{nicht_konstant}}
Werden die selben Gleichungen zur Modellierung von Annealingeffekte für nicht
konstante Temperaturen verwendet, so kommt es zu deutlichen Abweichungen für
$\Delta N_{\mathrm{eff}}$ und $\alpha$ im Vergleich zu dem eigentlich erwarteten
Verhalten nach dem Hamburg-Modell. In Abbildung \ref{fig:N_eff_ohne} und \ref{fig:damage_ohne} ist das Annealingverhalten
der Dotierungskonzetration und der Schadensrate mit
diesem Ansatz dargestellt. Das Temperaturprofil wurde von einem Sensor "R1" in
"Sandia National Laboratories" aufgenommen.

\begin{figure}
    \includegraphics[width=0.95\textwidth]{build/ohnekorrektur.PDF}
    \caption{Dotierungskonzentration des Sensors R1 nach einer Bestrahlung mit Fluenz $\Phi_{\mathrm{eq}} = \SI{5e15}{\per\centi\meter\squared}.$}
    \label{fig:N_eff_ohne}
\end{figure}

\begin{figure}
    \includegraphics[width=0.95\textwidth]{build/damageohnekorrektur.PDF}
    \caption{Schadensrate einer WE-25k Diode.}
    \label{fig:damage_ohne}
\end{figure}

%\begin{figure}
%  \centering
%  \begin{subfigure}{0.48\textwidth}
%      \centering
%      \includegraphics[height=0.78\textwidth]{build/ohnekorrektur.PDF}
%  \end{subfigure}
%  \begin{subfigure}{0.48\textwidth}
%      \centering
%      \includegraphics[height=0.78\textwidth]{build/damageohnekorrektur.PDF}
%  \end{subfigure}
%  \caption{Dotierungskonzentration (a) und Schadensrate (b) des Sensors R1 nach einer Bestrahlung mit Fluenz $\Phi_{\mathrm{eq}} = \SI{5e15}{\per\centi\meter\squared}.$}
%\end{figure}
%  \subfigure[]{\includegraphics[width=0.49\textwidth]{build/damageohnekorrektur.PDF}}
%  \caption{Dotierungskonzentration (a) und Schadensrate (b) des Sensors R1 nach einer Bestrahlung mit Fluenz $\Phi_{\mathrm{eq}} = \SI{5e15}{\per\centi\meter\squared}.$}
%  \label{fig:ohnekorrektur}
%\end{figure}

Der longterm Annealingeffekt der Dotierungskonzetration strebt nach dem Hamburg-Modell
für unendlich große Zeiten gegen einen konstanten Wert und nimmt nicht mehr
ab. Die Schadensrate kann mit fortschreitendem annealing nicht
größer werden, somit Verhalten sich beide Kurven nicht dem theoretisch
vorhergesehenem Verhalten.
Der Fehler entsteht, da die Gleichung \ref{eqn:N_eff} und \ref{eqn:damage} für jeden
Zeitpunkt eine konstante Temperatur annehmen. Jedoch ist es für Annealingeffekte
wichtig mit welchen Temperaturen und wie lange damit vorher annealed wurde.
Das bedeutet, dass $\Delta N_{\mathrm{eff}}$ für große Zeiten abfällt, da die Gleichung über den
gesamten Zeitraum mit den zugehörigen kleinen Temperaturen rechnet. Für
die Schadensrate gilt das gleiche Problem.

Um die Effekte richtig berechnen zu können, muss eine Korrektur in den
Gleichungen vorgenommen werden.
Zunächst wird die Dotierungskonzentration betrachtet. Als Näherung wird über
jeden einzelnen Zeitabschnitt $t_{\mathrm{i}} - t_{\mathrm{i-1}}$ mit der
Temperatur $\frac{T_{\mathrm{i}} +T_{\mathrm{i-1}}}{2}$ annealed.
Da der stable damage keine Temperaturabhängigkeit hat, muss dieser nicht
verändert werden. Für $N_{\mathrm{A}}$ wird nun folgende Näherung
verwendet werden:

\begin{align}
  &\frac{t_{\mathrm{n}}}{\tau_{\mathrm{a}}(T_{\mathrm{n}})} \rightarrow \sum_{i=0}^n  \frac{t_{\mathrm{i}} - t_{\mathrm{i-1}}}{\tau_{\mathrm{a}}(\frac{T_{\mathrm{i}} +T_{\mathrm{i-1}}}{2})} \:\:\:\: \text{für} \: n>0 \\
\end{align}
Für den Zeitpunkt $t=0$ gilt weiterhin $\frac{t_{\mathrm{n}}}{\tau_{\mathrm{a}}(T_{\mathrm{n}})} = 0$.
Durch die Summation der einzelnen Zeitabschnitte mit dem Mittelwert der dazugehörigen
Temperatur kann die gesamte Temperaturkurve beschrieben werden. Für $N_{\mathrm{Y}}$
wird analog die gleiche Korrektur durchgeführt.
In Abbildung \ref{fig:korrektur_N_eff} ist Dotierungskonzentration mit Korrektur dargestellt.


\begin{figure}
    \includegraphics[width=0.95\textwidth]{build/ohnekorrektur.PDF}
\caption{$\Delta N_{eff}$ des Sensors R1 mit Korrektur nach einer Bestrahlung mit Fluenz $\Phi_{\mathrm{eq}} = \SI{5e15}{\per\centi\meter\squared}.$}
\label{fig:korrektur_N_eff}
\end{figure}
%\begin{figure}
%    \subfigure[]{\includegraphics[width=0.49\textwidth]{images/ohnekorrektur.PDF}}
%    \subfigure[]{\includegraphics[width=0.49\textwidth]{images/annealingtdata.PDF}}
%    \caption{$\Delta N_{eff}$ des Sensors R1 ohne Korrektur (a) und mit Korrektur (b) nach einer Bestrahlung mit Fluenz $\Phi_{\mathrm{eq}} = \SI{5e15}{\per\centi\meter\squared}.$}
%    \label{fig:korrektur_N_eff}
%\end{figure}


Der Verlauf entspricht nun den theoretischen Erwartungen. Mit der Berücksichtigung
der einzelnen Temperaturen verringert sich der Annealingeffekt insgesamt, da anfänglich
geringe Temperaturen nur wenig zum gesamten Effekt beitragen. Dies wird
an dem späteren Zeitpukt des Minimums deutlich.

Eine solche Korrektur kann für den shortterm annealing Term der Schadensrate ebenfalls gemacht werden.
Für den zweiten Term ist $\alpha_{0}$ temperaturabhängig, aber nicht zeitabhängig,
wodurch der Korrekturansatz hier nicht mehr gelten kann. Um den Ansatz dennoch
verwenden zu können, wird die Zeit des longterm annealing [Grammatik] mit dem
Skalierungsfaktor
\begin{align}
  \Theta(T) =  \exp{-\frac{E_{\mathrm{I}}^*}{k_b}\left(\frac{1}{T}-\frac{1}{T_{\mathrm{ref}}}\right)} \\
\end{align}
versehen, wodurch sich die Formel der Schadensrate ändert.
\begin{align}
  &\alpha(t, T) = \alpha_I \cdot \exp{\left(-\frac{t}{\tau_{\mathrm{I}}(T)}\right)} + \alpha_{\mathrm{0}}^{*} -\beta \cdot \ln{\left(\Theta(T) \cdot \frac{t}{t_{\mathrm{0}}}\right)} \\
  \medskip
  \text{mit}\:\: &\alpha^*_{\mathrm{0}}(T) = \SI{-8.9e-17}{\ampere\per\centi\meter} + \SI{4.6e-14}{\ampere\kelvin\per\centi\meter} \cdot \frac{1}{T_{\mathrm{ref}}}
\end{align}
Hierbei ist $\alpha^*_{0}$ nun nicht mehr temperaturabhängig,
sondern lediglich abhängig von einer Referenztemperatur $T_{\mathrm{ref}}$. Für konstante Temperaturen
ist diese Gleichung folglich äquivalent zu Gleichung \ref{eqn:damage}, für nicht
konstante Temperaturen ist sie eine Näherung.
Nun kann wieder eine Korrektur eingeführt werden:

\begin{align}
  \Theta(T) \cdot t_{\mathrm{n}} \rightarrow \sum_{i=0}^n   \Theta \left(\frac{T_{\mathrm{i}} +T_{\mathrm{i-1}}}{2}\right) \cdot  (t_{\mathrm{i}} - t_{\mathrm{i-1}})
\end{align}

In Abbildung \ref{fig:korrektur_damage} ist die Schadensrate ohne und mit Korrektur
dargestellt.

\begin{figure}
    \includegraphics[width=0.95\textwidth]{build/damageohnekorrektur.PDF}
\caption{Schadensrate des Sensors R1 ohne Korrektur (a) und mit Korrektur (b).}
\label{fig:korrektur_damage}
\end{figure}
%\begin{figure}
%  \begin{subfigure}[]{\linewidth}
%    \includegraphics[width=0.49\textwidth]{build/damageohnekorrektur.PDF}
%  \end{subfigure}
%  \begin{subfigure}{\linewidth}
%    \includegraphics[width=0.49\textwidth]{build/damagekorrektur.PDF}
%  \end{subfigure}[]
%  %\caption{Schadensrate des Sensors R1 ohne Korrektur (a) und mit Korrektur (b).}
%  %\label{fig:korrektur_damage}
%\end{figure}


Auch hier zeigt das Verhalten ohne Korrektur klare Abweichungen zu den theoretischen
Erwartungen, so kann beispielsweise die Schadensrate mit voranschreitendem annealing nicht steigen.
Mit Korrektur verhält sich die Schadensrate gemäß den Erwartungen, der stärkste
Effekt ist bei den größten Temperaturen zu sehen, kleine Temperaturen führen hingegen
nur zu minimalen Änderungen.
Mit der Implementierung dieser Korrekturen kann das Programm Annealingeffekte für
beliebige Temperaturen berechnen.



\section{Lineare Interpolation der Temperatur}
Der im vorherigen Abschnitt beschriebene Korrketuransatz verwendet für jedes
Zeitintervall den Mittelwert der Anfangs- und Endtemperatur. Für große
Zeitabschnitte kommt es also auch zu größeren Abweichung von der tatsächlichen
Temperatur. Um diesen Fehler gering zu halten, wird das Temperaturprofil
linear interpoliert.
Damit die Rechenzeit des Programms bei vielen Daten nicht zu groß werden
kann, wird eine Funktion für die Anzahl $n$ an Intervallen zwischen zwei
Messwerten definiert.
\begin{align*}
  n = \lceil{y \cdot (T_{\mathrm{A}}-T_{\mathrm{min}})+ z}\rceil \label{eqn:intervall}
\end{align*}
Diese Funktion wächst mit steigenden Temperaturen.
Da große Temperaturen relevanter für das annealing sind, ist es vorteilhaft,
bei diesen Werten möglichst kleine ungenauigkeiten und somit möglichst viele
Intervalle zu erschaffen. Die Parameter $y$ und $z$ sind dabei frei anpassbar.

Für die Zeit und die Temperatur der interpolierten Daten gilt:
\begin{align}
  t_i &= t_{\mathrm{A}} +  \frac{t_{\mathrm{B}}-t_{\mathrm{A}}}{n} \cdot i \\
  T_i &= T_{\mathrm{A}} +  \frac{T_{\mathrm{B}}-T_{\mathrm{A}}}{n} \cdot i \\
  \text{mit}\:\:i &= 1, 2, ..., n
\end{align}

Hierdurch werden lineare und gleich lange Intervalle zwischen den Temperaturen
erzeugt. In den Abbildungen \ref{fig:interpolation_N_eff} und \ref{fig:interpolation_damage} sind die Interpolierten Temperaturen und
die daraus berechneten Annealingeffekte dargestellt.

\begin{figure}
    \includegraphics[width=0.95\textwidth]{build/interpolationtdata.PDF}
\caption{Interpolierte Temperatur für y = $0,05$ und $z=0,2$ und $\Delta N_{\mathrm{eff}}$.}
\label{fig:interpolation_N_eff}
\end{figure}



\begin{figure}
    \includegraphics[width=0.95\textwidth]{build/damage_interpolation.PDF}
\caption{Interpolierte Temperatur für y = $0,05$ und $z=0,2$ und $\alpha$.}
\label{fig:interpolation_damage}
\end{figure}

Die Anzahl der Intervalle der linearen Interpolation steigt gemäß der Funktion \ref{eqn:intervall}
für größer Temperaturen. Kleine Abweichung der Annealingeffekte für gemessene und
interpolierte Temperaturen ist durch die Korrektur aus Kapitel \ref{nicht_konstant}
zu erklären. Da die lineare Interpolation lediglich eine Näherung des Verlaufes der
Temperaturkurve entspricht, kommt es bei der Aufsummierung der einzelnen Zeitabschnitte
zu größer werdenden Abweichungen. Für große Zeiten strebt $\Delta N_{\mathrm{eff}}$
für beide Temperaturdatensätze gegen den selben Wert.

\section{Berechnung der gesamten Annealinghistorie eines Sensors}
Die hier betrachtete Annealinghistorie setzt sich aus 60 Erwärmungs-und
Abkühlungszyklen des Sensors "P3" zusammen, welche $\SI{1170}{\minute}$ entsprechen.
Für den Sensor "P4" werden 39 Zyklen ($\SI{1170}{\minute}$) betrachtet.
Beide wurden von der IRRAD Einrichtung mit $\SI{24}{\giga\eV\per\c}$ Protonen des Protonen Sychrotrons bestrahlt.
Die Datensätze werden mithilfe eines Python Programmes mit einander Verbunden,
wobei die Zeiten zwischen dem annealing von einem Zyklus zum nächsten auf Null gesetzt werden. Wegen der geringen
Temperaturen nach jeder Abkühlung sind die daraus resultierenden Abweichungen vernachlässigbar.
Für jeden Zyklus wurde bei den Sensoren eine Temperatur von $\SI{60}{\celsius}$ angestrebt.
Mehr Informationen zu den Eigenschaften von P3 und P4 in "Temperature scaling of reverse current generated in
proton irradiated silicon bulk" \cite{felix}.


In Abbildung \ref{fig:P_3} ist die Schadensrate für die 60 Annealingschritte,
sowie die experimentell bestimmte Schadensrate dargestellt.

\begin{figure}
    \includegraphics[width=0.95\textwidth]{build/damage_ohne_temperatur.PDF}
\caption{Theoretische Schadensrate und gemessene Schadensrate nach 1, 2, 3, 4, 6, 9, 14, 24, 39 und 60 Zyklen .}
\label{fig:P_3}
\end{figure}

Es ist eine merkliche Abweichung der experimentellen Messwerte von den theoretischen
Werten erkennbar. Der Sensor "P3" wurde schon vor der Messung annealed, wodurch
die angegebenen Annealingzeiten in Wahrheit größer sind. Dies erklärt die
geringe Änderung der einzelnen Messwerte von einander, welche dem
Verlauf der theoretischen Werte für große Zeiten ähnelt. Die Abweichung der theoretischen
und experimentellen Funktionswerte wird dadurch größer.
Für die Bestimmung der Schadensrate wird das Detektorvolumen und den durch
Strahlung induzierten Leckstrom $\Delta I$ benötigt. Bei der Messung wurde
$\Delta I$ mit dem Leckstrom gleichgesetzt. Dies gilt nur bei einer Temperatur
von $\SI{20}{\celsius}$, bei der Messung des Stroms betrug die tatsächliche Temperatur
$\SI{-2}{\celsius}$. Um dies zu korrigieren wird der Leckstrom gemäß \ref{eqn:Chilingarov_2013}
mit der Temperatur skaliert. Die Energie der Bandlücke und das Volumen des Detektormaterial
unterliegen dabei Unsicherheiten. Zusätzlich haben auch die materialspezifischen Parameter
der theoretischen Messwerte eine gewisse Abweichung zu den tatsächlichen Parametern, da
ein anderer Sensor betrachtet wird.

Die Messung des Sensors "P4" ist in Abbildung \ref{fig:P_4}
dargestellt.

\begin{figure}
    \includegraphics[width=0.95\textwidth]{build/damage_P_4.PDF}
\caption{Theoretische Schadensrate und gemessene Schadensrate nach 1, 2, 3, 4, 6, 9, 14, 24 und 39 Zyklen.}
\label{fig:P_4}
\end{figure}

Die Abweichungen sind in dieser Messreihe noch deutlicher. Neben den Fehlerquellen die
für den Sensor "P3" aufgezählt wurden, ist "P4" zusätzlich nicht vollständig depletiert.
Dies führt zu einer Änderung der gemessenen Schadensrate, da diese von dem Volumen
der depletierten Zone abhängt, dessen Größe in diesem Fall nicht bekannt ist.
